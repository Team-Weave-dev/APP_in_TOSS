# 인앱 결제 QA 진행하기

> **원본**: https://developers-apps-in-toss.toss.im/iap/qa.html
> **카테고리**: 수익화 > 인앱 결제

---

## 개요

Apps in Toss 개발자 플랫폼에서 인앱 결제(IAP) 통합을 위한 품질 보증 체크리스트를 설명합니다.

## 운영 팁

가이드는 세 가지 핵심 관행을 권장합니다:

1. **주문 관리**: "주문 키(orderId)는 단건-단결제 원칙으로 운영하고, 모든 처리 결과를 서버에 영구 저장하세요" - 거래당 하나의 주문을 유지하고 모든 결과를 서버 측에 영구적으로 저장합니다.

2. **비소모품**: "비소모품(권한/광고 제거) 은 반드시 복원(restore) 경로를 제공하세요" - 비소모품에 대해 항상 복원 기능을 활성화합니다.

3. **멱등성**: 재시도 및 중복 요청을 우아하게 처리할 수 있도록 시스템을 설계합니다.

## QA 체크리스트

### 기본 통합
- 미니앱 주문 금액이 스토어 결제창 금액과 일치하는지 확인
- IAP가 정상적으로 처리되는지 확인
- 결제 후 미니앱 UI와 서버가 동일한 결과를 처리하는지 확인
- 주문 내역 조회가 작동하는지 확인 (영수증 검증 완료)
- 결제가 취소될 때 주문 화면으로 정상적으로 복귀하는지 확인
- 실패 메시지가 사용자에게 명확하게 표시되는지 확인
- 결제 취소/환불 안내 플로우 준비

### 데이터 & 권한
- 재설치/기기 변경 시 비소모품 복원 테스트
- 중복 구매/지급 방지 로직 구현

### 안정성
- 네트워크 실패 및 타임아웃에 대한 재시도/폴백 플로우 수립
- 앱 재시작 및 백그라운드 복귀 시 상태 일관성 유지
- 최소 지원 버전 미만에서는 상품이 나타나지 않거나 처리되지 않는지 확인

## 관련 문서

- [인앱 결제 이해하기](09-iap-intro.md)
- [콘솔 가이드](10-iap-console.md)
- [개발 가이드](11-iap-develop.md)
